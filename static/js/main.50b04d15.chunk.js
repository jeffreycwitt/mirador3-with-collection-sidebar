(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1173:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),l=a(31),o=a.n(l),s=(a(504),a(101)),r=a(102),c=a(105),d=a(103),h=a(60),p=a(104),m=(a(505),a(506),a(18)),u=a(493),f=a.n(u),b=a(287),v=a.n(b),g=a(20),y=a(495),E=a.n(y),k=(a(268),a(285)),C=a.n(k),O=a(497),M=a.n(O),j=a(496),z=a.n(j),S=a(47),A=a.n(S),w=a(80),B=a.n(w),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleSelectCollection=a.handleSelectCollection.bind(Object(h.a)(a)),a.handleOnFilterChange=a.handleOnFilterChange.bind(Object(h.a)(a)),a.handleClearAll=a.handleClearAll.bind(Object(h.a)(a)),a.handleSelectAll=a.handleSelectAll.bind(Object(h.a)(a)),a.state={collections:[],label:"",open:!1,filter:"",manifests:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"handleClearAll",value:function(){var e=this;this.state.collections.forEach(function(t){e.props.store.dispatch(g.removeManifest(t["@id"]))})}},{key:"handleSelectAll",value:function(){var e=this;this.state.collections.forEach(function(t){e.props.store.dispatch(g.fetchManifest(t["@id"]))}),this.props.store.dispatch(g.setWorkspaceAddVisibility(!0))}},{key:"handleOnFilterChange",value:function(e){console.log("change value"+e.target.value),this.setState({filter:e.target.value})}},{key:"handleSelectCollection",value:function(){var e=this;this.state.open?this.setState({collections:[],label:"",open:!1}):(C.a.get(this.props.id).then(function(t){console.log("res",t),t.data.collections?(console.log(t.data),e.setState({collections:t.data.collections,label:t.data.label,open:!0})):t.data.manifests?e.setState(function(e){return{collections:t.data.manifests,label:t.data.label,open:!0,manifests:!0}}):"sc:Manifest"===t.data["@type"]&&e.props.store.dispatch(g.fetchManifest(e.props.id))}).catch(function(e){return console.log(e)}),this.props.store.dispatch(g.setWorkspaceAddVisibility(!0)))}},{key:"render",value:function(){var e=this,a=10*this.props.level;return n.a.createElement("div",null,n.a.createElement("p",{onClick:this.handleSelectCollection,className:"collection-list-item",style:{"padding-left":a+"px"}},this.props.label," "),this.state.open&&n.a.createElement(B.a,{placeholder:"filter",onChange:this.handleOnFilterChange,style:{"margin-left":a+"px"}}),this.state.open&&function(){if(e.state.manifests)return n.a.createElement("p",{style:{"margin-left":a+"px"}},n.a.createElement(A.a,{onClick:e.handleSelectAll,color:"primary",alt:"select all"},n.a.createElement(z.a,null)),n.a.createElement(A.a,{onClick:e.handleClearAll,color:"primary",alt:"clear all"},n.a.createElement(M.a,null)))}(),e.state.collections.map(function(a){return e.state.filter?a.label.includes(e.state.filter)?n.a.createElement(t,{key:a["@id"],label:a.label,id:a["@id"],store:e.props.store,level:e.props.level+1,filter:e.state.filter}):void 0:n.a.createElement(t,{key:a["@id"],label:a.label,id:a["@id"],store:e.props.store,level:e.props.level+1,filter:e.state.filter})}))}}]),t}(i.Component),W=a(498),x=a.n(W),N=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.sideBarMinimized?"sideBarMinimized sidepanel":"sidepanel";return e.props.sideBarMinimized?n.a.createElement("div",{className:t,onClick:e.props.handleToggleMinimize},n.a.createElement(T,{key:"side-panel",label:"SCTA Authors",id:"https://scta.info/iiif/authors/collection",store:e.props.store,level:1})):n.a.createElement("div",{className:t},n.a.createElement("div",{className:"close-button"},n.a.createElement(A.a,{onClick:e.props.handleToggleMinimize,color:"primary"},n.a.createElement(x.a,null))),n.a.createElement(T,{key:"side-panel",label:"SCTA Authors",id:"https://scta.info/iiif/authors/collection",store:e.props.store,level:1}))}}]),t}(i.Component),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleToggleMinimize=a.handleToggleMinimize.bind(Object(h.a)(a)),a.state={sideBarMinimized:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=E()();v.a.id="yolo",e.dispatch(g.setConfig(v.a)),e.dispatch(g.setWorkspaceAddVisibility(!0)),this.setState({store:e})}},{key:"handleToggleMinimize",value:function(){this.setState({sideBarMinimized:!this.state.sideBarMinimized})}},{key:"render",value:function(){var e=this.state.sideBarMinimized?"miradorSideBarMinimized mirador":"mirador";return n.a.createElement("div",{id:"App"},n.a.createElement(N,{store:this.state.store,sideBarMinimized:this.state.sideBarMinimized,handleToggleMinimize:this.handleToggleMinimize}),n.a.createElement("div",{className:e},n.a.createElement(m.Provider,{store:this.state.store},n.a.createElement(f.a,null))))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},499:function(e,t,a){e.exports=a(1173)},504:function(e,t,a){},505:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},506:function(e,t,a){},852:function(e,t){},854:function(e,t){}},[[499,1,2]]]);
//# sourceMappingURL=main.50b04d15.chunk.js.map